<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>zjxdiu~blog site • Posts by &#34;游戏&#34; tag</title>
        <link>https://zjxdiu.github.io</link>
        <description></description>
        <language>zh-CN</language>
        <pubDate>Wed, 04 Oct 2023 12:44:00 +0800</pubDate>
        <lastBuildDate>Wed, 04 Oct 2023 12:44:00 +0800</lastBuildDate>
        <category>日常</category>
        <category>开发</category>
        <category>化学</category>
        <category>仪器分析</category>
        <category>信号处理</category>
        <category>网络</category>
        <category>深度学习</category>
        <category>音频</category>
        <category>分享</category>
        <category>游戏</category>
        <category>教程</category>
        <category>软件</category>
        <category>游戏引擎</category>
        <category>超频</category>
        <category>硬件</category>
        <category>脑洞</category>
        <category>生活</category>
        <category>测试</category>
        <item>
            <guid isPermalink="true">https://zjxdiu.github.io/blog/Stardew_valley_ports/</guid>
            <title>How to play stardew valley ports on JELOS（在JELOS中玩移植版的星露谷）</title>
            <link>https://zjxdiu.github.io/blog/Stardew_valley_ports/</link>
            <category>游戏</category>
            <category>教程</category>
            <pubDate>Wed, 04 Oct 2023 12:44:00 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;&lt;strong&gt;Notification: This article is written in English.&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;recommend-written-guide&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#recommend-written-guide&#34;&gt;#&lt;/a&gt; Recommend written guide&lt;/h2&gt;
&lt;p&gt;Guide from RetroGameCorps: &lt;a href=&#34;https://retrogamecorps.com/2021/11/30/stardew-valley-on-retro-handhelds/&#34;&gt;https://retrogamecorps.com/2021/11/30/stardew-valley-on-retro-handhelds/&lt;/a&gt;&lt;br&gt;
(At least correct for the time this blog was written.)&lt;/p&gt;
&lt;p&gt;Instructions from PortMaster: &lt;a href=&#34;https://github.com/christianhaitian/PortMaster/wiki#stardew-valley&#34;&gt;https://github.com/christianhaitian/PortMaster/wiki#stardew-valley&lt;/a&gt;&lt;br&gt;
(Spoiler: This not works quite correct!)(on my device)&lt;/p&gt;
&lt;h2 id=&#34;&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#&#34;&gt;#&lt;/a&gt; &lt;/h2&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://zjxdiu.github.io/blog/Vita3k_tutorial/</guid>
            <title>PSV模拟器vita3k完全教程</title>
            <link>https://zjxdiu.github.io/blog/Vita3k_tutorial/</link>
            <category>游戏</category>
            <category>教程</category>
            <pubDate>Fri, 07 Jul 2023 18:37:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;本文未完成&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#本文未完成&#34;&gt;#&lt;/a&gt; 本文未完成&lt;/h1&gt;
&lt;h2 id=&#34;前言&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#前言&#34;&gt;#&lt;/a&gt; 前言&lt;/h2&gt;
&lt;p&gt;最近想玩 PSV 游戏了，但是一来手上没有设备，二是 PSV 原生的游戏体验不见得就很好（分辨率 544P）。那么看着手上的 Windows PC，自然是来折腾模拟器了。&lt;/p&gt;
&lt;h2 id=&#34;vita3k入门&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#vita3k入门&#34;&gt;#&lt;/a&gt; vita3k 入门&lt;/h2&gt;
&lt;p&gt;vita3k 是一个开源、免费的 PS Vita 模拟器，是目前市面上（大概）唯一真正可用的 PSV 模拟器。&lt;/p&gt;
&lt;h3 id=&#34;相关网址&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#相关网址&#34;&gt;#&lt;/a&gt; 相关网址&lt;/h3&gt;
&lt;p&gt;官方网站：&lt;a href=&#34;https://vita3k.org/&#34;&gt;https://vita3k.org/&lt;/a&gt;&lt;br&gt;
 游戏兼容性列表：&lt;a href=&#34;https://vita3k.org/compatibility.html&#34;&gt;https://vita3k.org/compatibility.html&lt;/a&gt;&lt;br&gt;
&lt;em&gt; 以上两个网站似乎使用了谷歌的 ajax，国内可能直连不上，会导致文字和内容无法加载等问题；使用魔法可以解决&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;下载链接：&lt;br&gt;
Windows：&lt;a href=&#34;https://github.com/Vita3K/Vita3K/releases/download/continuous/windows-latest.zip?time=1688728168579&#34;&gt;Github Release&lt;/a&gt;&lt;br&gt;
 安卓：&lt;a href=&#34;https://github.com/Vita3K/Vita3K-Android/releases/&#34;&gt;Github Release&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Github 仓库：&lt;a href=&#34;https://github.com/Vita3K/Vita3K&#34;&gt;https://github.com/Vita3K/Vita3K&lt;/a&gt;&lt;br&gt;
Github 兼容性报告页（issue）：&lt;a href=&#34;https://github.com/Vita3K/compatibility/issues&#34;&gt;https://github.com/Vita3K/compatibility/issues&lt;/a&gt;&lt;br&gt;
&lt;em&gt; 提示：在 vita3k 程序内可以快速创建兼容性报告，无需自己创建 issue&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;游戏rom资源下载处&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#游戏rom资源下载处&#34;&gt;#&lt;/a&gt; 游戏 ROM 资源下载处：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;国内整理&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;都是百度网盘下载，如果只下汉化游戏的话开一个优化速率模式其实很快（百兆跑满），但是其他语言的大多很慢&lt;/li&gt;
&lt;li&gt;老男人游戏网（需要付费注册，价格非常低可以考虑购买）：&lt;a href=&#34;https://www.oldmanemu.net/%e6%8e%8c%e6%9c%ba%e6%b8%b8%e6%88%8f/psv&#34;&gt;www.oldmanemu.net/ 掌机游戏 /psv&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ROM 猎人：&lt;a href=&#34;https://www.yang2000ling.com/#/&#34;&gt;www.yang2000ling.com/#/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ROMS 乐园：&lt;a href=&#34;https://www.roms.fun/vita/&#34;&gt;www.roms.fun/vita&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;其他各种贴吧论坛等零散位置不一一列举&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;NoPayStation（推荐）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;无需科学上网；&lt;/li&gt;
&lt;li&gt;这个网站的原理是从 PS 官方服务器里直接获取下载链接，因此不会受到网盘限速的影响，同时也无需依赖其他用户上传，因此资源非常全面；缺点就是没有自制游戏和民间汉化版等&lt;/li&gt;
&lt;li&gt;网址：&lt;a href=&#34;https://nopaystation.com/browse&#34;&gt;nopaystation.com/browse&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;下载时，pkg 和 work.bin 文件都要下载&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;安装前提示&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#安装前提示&#34;&gt;#&lt;/a&gt; 安装前提示&lt;/h3&gt;
&lt;p&gt;vita3k 确实支持安卓设备，但不要指望它能正常工作；基本上能正常运行的游戏只有 5% 甚至更少，每个设备的表现也不一致，因此&lt;strong&gt;不建议使用安卓设备&lt;/strong&gt;模拟 PSV。如果有这个需求，可以考虑用电脑串流游玩。&lt;br&gt;
因此，以下教程完全基于 Windows 版本。&lt;br&gt;
在 Windows 上，vita3k 需要的配置也不低；虽然官网没说需要 vulkan，但根据实际体验来说&lt;strong&gt; vulkan 是必须的&lt;/strong&gt;（不用指望 OpenGL 能跑成啥样，兼容性和性能都有很大问题）。此外，AVX 指令集和 4-8G 内存也是需要的。&lt;/p&gt;
&lt;h2 id=&#34;安装软件和固件&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#安装软件和固件&#34;&gt;#&lt;/a&gt; 安装软件和固件&lt;/h2&gt;
&lt;p&gt;从上面的下载链接、官网或者 GitHub 里直接下载安装。软件安装也很简单，一路 next 就行。不过需要注意安装路径里不要带空格和中文，防止出现问题。&lt;br&gt;
软件启动后需要安装 psv 环境，以及需要下载固件；这里直接跟随这篇教程即可（固件也在里面可以下载）：&lt;a href=&#34;https://croden1999.github.io/Vita3K-quick-guide/README_USE_VITA3K&#34;&gt;croden1999.github.io&lt;/a&gt;&lt;br&gt;
（这个教程其实是挺完整的，但有些地方说明不清晰，所以我写了这篇文章）&lt;/p&gt;
&lt;h2 id=&#34;初次启动配置&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#初次启动配置&#34;&gt;#&lt;/a&gt; 初次启动配置&lt;/h2&gt;
&lt;p&gt;安装完成后，打开软件；Vita3K 会同时创建两个窗口，一个是命令行终端，另一个是 GUI 本体。&lt;br&gt;
&lt;img src=&#34;../_resources/d47d50677f42c898131ec169136675ef.png&#34; alt=&#34;d47d50677f42c898131ec169136675ef.png&#34;&gt;&lt;br&gt;
GUI 界面在几十秒不操作就会进入锁屏界面，点一下就能恢复。&lt;br&gt;
命令行窗口可以直接最小化不管，但开着可以方便检查运行是否出错。&lt;/p&gt;
&lt;h3 id=&#34;自动更新&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#自动更新&#34;&gt;#&lt;/a&gt; 自动更新&lt;/h3&gt;
&lt;p&gt;软件启动后，首先会自动检查更新，包括兼容性数据库更新和软件本体更新。它们需要连接到 GitHub 的服务器才能进行，并且&lt;strong&gt;无法通过 steamcommunity 302、FastGithub 等程序进行加速（如果开着则可能直接失败，似乎都是因为这些软件使用了自签名证书、不受信任）&lt;/strong&gt;。&lt;br&gt;
当然你可以不管更新，但是软件本体建议要尽量保持最新（可以手动下载然后覆盖文件），因为 Vita3K 仍然是一个正在积极开发的模拟器，每次更新都可能带来更好的兼容性。&lt;br&gt;
兼容性列表更新失败可以忽略，但如果你像我一样有强迫症的话，可以用 UsbEAm Hosts Editor 找到最佳 hosts，然后就可以正常更新了（如图，选 raw 及用户头像；具体教程网上可以查）&lt;br&gt;
&lt;img src=&#34;../_resources/9392d904053ae7a67590237d60b5f269.png&#34; alt=&#34;9392d904053ae7a67590237d60b5f269.png&#34;&gt;&lt;br&gt;
 最后，如果你的网络环境实在太差，也可以手动更新；&lt;br&gt;
兼容性数据库：在&lt;a href=&#34;https://objects.githubusercontent.com/github-production-release-asset-2e65be/130765034/0fed046f-f0ef-48ea-91c6-eb46c895dbcb?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20230728%2Fus-east-1%2Fs3%2Faws4_request&amp;amp;X-Amz-Date=20230728T081329Z&amp;amp;X-Amz-Expires=300&amp;amp;X-Amz-Signature=33e26dc786a9f8c9b62494bfe29576442d0b802491dd1bf84c27c67b7ab2c6e0&amp;amp;X-Amz-SignedHeaders=host&amp;amp;actor_id=0&amp;amp;key_id=0&amp;amp;repo_id=130765034&amp;amp;response-content-disposition=attachment%3B%20filename%3Dapp_compat_db.xml&amp;amp;response-content-type=application%2Foctet-stream&#34;&gt;这里下载&lt;/a&gt;兼容性列表，然后手动放到 &lt;code&gt;vita3k\cache&lt;/code&gt;  里面，替换掉原有文件即可。&lt;br&gt;
软件本体：在&lt;a href=&#34;https://github.com/Vita3K/Vita3K/releases/download/continuous/windows-latest.zip&#34;&gt;这里下载&lt;/a&gt;最新版本的 vita3k，把其中所有内容解压到安装目录，替换所有需要替换的文件即可。&lt;/p&gt;
&lt;h3 id=&#34;软件界面&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#软件界面&#34;&gt;#&lt;/a&gt; 软件界面&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;../_resources/da2c007f9a1c13395a1d1a822800b027.png&#34; alt=&#34;da2c007f9a1c13395a1d1a822800b027.png&#34;&gt;&lt;br&gt;
 上方有一排选项按钮，这里就是我们需要主要进行配置的地方。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../_resources/f0af051c93c4acb47726e4c4a4e58806.png&#34; alt=&#34;f0af051c93c4acb47726e4c4a4e58806.png&#34;&gt;&lt;br&gt;
 下面都是游戏和应用程序列表；如果显示为图中这样的网格模式，则点击&lt;strong&gt;配置 -&amp;gt; 设置 -&amp;gt;GUI，取消勾选 Grid Mode 即可&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;对于列表模式，这里会显示很多信息；从左到右分别是：游戏图标、兼容性指示、ID、版本、类型、最后使用时间、标题名称。（看顶上的那一排按钮，点哪个就可以按哪个排序）&lt;br&gt;
兼容性指示是通过颜色进行的，绿色代表可玩，黄色代表可以进游戏但不能正常游戏或通关，灰色表示这个游戏在数据库里没有兼容性信息（也就是未知）。&lt;br&gt;
需要注意的是，很多游戏都具有多个区域，例如日版、美版、欧版等，而它们的 ID 是不一样的；但测试兼容性的用户可能测试的是另一个区域的版本，因此这里显示灰色不代表就一定没有人测试过。&lt;br&gt;
因此，对于游戏兼容性，&lt;strong&gt;去官方的兼容性网站里搜索&lt;/strong&gt;才是最佳选择。&lt;br&gt;
&lt;em&gt;剧透：这个兼容性列表的准确性也不高，有些游戏即使说可玩也不见得一定能玩；但更多时候是显示不可玩但实际可以玩，这一般是因为软件更新太快了，测试用户可能是之前的版本&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;右上角有个刷新按钮，如果是 MAI 方式安装游戏或手动删除游戏则需要手动刷新列表。&lt;/p&gt;
&lt;h3 id=&#34;设置核心内容&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#设置核心内容&#34;&gt;#&lt;/a&gt; 设置核心内容&lt;/h3&gt;
&lt;p&gt;点击配置 -&amp;gt; 设置，这里有几个地方需要重点关注。&lt;br&gt;
&lt;img src=&#34;../_resources/290d4db020ec22c325ab4355145752fb.png&#34; alt=&#34;290d4db020ec22c325ab4355145752fb.png&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Core&lt;br&gt;
 里面是一些模块列表，不用管。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CPU&lt;br&gt;
 这里可以选择模拟器的 CPU 后端，Windows 上支持 Dynarmic 和 Unicorn 两种。前者是默认值；由于 Dynarmic 的性能和兼容性都比 unicorn 好很多，不建议修改。&lt;br&gt;
下面还有一个 Enable optimizations 的选项，这一项通常情况下可以勾选，能提供好一点的性能；但在某些游戏里可能需要关闭才能正常游戏（例如 Entwined）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GPU&lt;br&gt;
 这里是最重要的设置。&lt;br&gt;
首先可以选择使用哪个 API，直接无脑 vulkan 就行。（即使有些游戏只能在 OpenGL 下运行，我也不建议妥协，这里的 OpenGL 性能很差并且有很多 bug）。&lt;br&gt;
如果使用 vulkan，则可以选择用哪个显卡；这里有独显的选择你的独显。还有一个 Disable surface sync，如果勾选则会禁用 CPU 和 GPU 之间的同步，能给性能带来很大提升；但少数游戏可能无法运行（实际测试没有发现它影响了任何一个游戏，至少我安装过的没有）&lt;br&gt;
Screen Filter 里是屏幕缩放方法，Bilinear 是双线性缩放，会导致一些像素风游戏失去像素感；换成 Nearest（邻近）即可解决。如果需要更好的缩放，可以选择 Bicubic（双立方）、FXAA（快速近似抗锯齿）或 FSR（这个是我比较喜欢的）。&lt;br&gt;
下面两个滑块，第一个是控制渲染分辨率；默认 1x 就是原生分辨率 960x544，原生的好处就是更不容易出现渲染错误，但画面也比较模糊；使用 2x 就是 1920x1088，在 1080P 显示器上效果很不错，性能也不会降低太多。第二个滑块是各向异性过滤，这个一般只影响 3D 游戏，而且比较看个人习惯；我平时开 4x，但说实话我的眼睛完全看不出来它有啥用（至少在我玩过的几个 PSV 游戏里看不出）。&lt;br&gt;
下面还有 Use shader cache（使用着色器缓存），启用可以提高性能，但如果游戏渲染有问题可以尝试禁用。最底下是 Clean shader Cache and log，点击可以清除着色器缓存，这对于一些兼容性不佳、需要反复尝试各种配置并重启的游戏来说很重要。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;System&lt;br&gt;
 没啥设置，前面是选游戏机的 “确认” 按钮是用❌键（Cross）还是⚪（Circle），后面的 PS TV mode 是启用 PS TV 模式，这个完全不用管。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Emulator&lt;br&gt;
 另一个比较关键的设置。&lt;br&gt;
第一个选项是游戏以全屏启动，这个对于确认可玩的游戏来说挺方便的，不用每次手动全屏了。&lt;br&gt;
第二个是选择音频后端，可以使用 Cubeb 或 SDL，同时还能选择是否启用 NGS 支持；这里的配置没有最好一说，不同的游戏可能会需要不同的配置。&lt;br&gt;
下面是一些日志级别、帧率显示、更改模拟目录等，一般不用管。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GUI&lt;br&gt;
 没啥好调的，就是一些主页显示上的设置。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Network 和 debug&lt;br&gt;
 也不用管，Network 可能会在联机游戏的时候需要配置，但我确实不想尝试在这上面联网玩游戏（Vita3K 官网也说了联机和登录 PSN 账号是不太可能的）。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;游戏独立配置&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#游戏独立配置&#34;&gt;#&lt;/a&gt; 游戏独立配置&lt;/h3&gt;
&lt;p&gt;右键任意游戏即可打开菜单，里面可以检查兼容性、卸载等。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://zjxdiu.github.io/blog/dynv6_notes/</guid>
            <title>dynv6使用技巧（如何添加多个地址 子域名 等）</title>
            <link>https://zjxdiu.github.io/blog/dynv6_notes/</link>
            <category>网络</category>
            <category>游戏</category>
            <pubDate>Fri, 03 Mar 2023 17:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;前言&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#前言&#34;&gt;#&lt;/a&gt; 前言&lt;/h2&gt;
&lt;p&gt;因为 ipv6 普及度日益增加，在自己的环境里搭建简易服务器的想法就逐渐发芽；无论是用于博客网站、NAS 或私有云的搭建，还是用来开游戏服务器，都能够简单易行地实现（因为有公网 ipv6）。&lt;br&gt;
不过，很多时候家庭环境下 ipv6 地址也会发生变化，尤其是电脑重启、宽带重拨的时候，那么如何在没有固定 ipv6 的情况下让别人能更容易找到我们的地址呢？很简单，当然是用 DDNS 了。&lt;br&gt;
DDNS，也就是动态 DNS，将一个变化的 IP 绑定到域名上，通过脚本定时检测和更新地址，这样即使地址变化，域名解析出来的地址也会跟着变化，仍然可以使用同一个域名定位到同一个地址。&lt;/p&gt;
&lt;h2 id=&#34;使用dynv6&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#使用dynv6&#34;&gt;#&lt;/a&gt; 使用 dynv6&lt;/h2&gt;
&lt;p&gt;官网：&lt;a href=&#34;https://dynv6.com/&#34;&gt;https://dynv6.com/&lt;/a&gt;&lt;br&gt;
 首先用邮箱注册一个账号，接着进入 My Zones，点击 Create New Zone，在 Name 里输入你想要的网址名称和后缀类型，下面的地址可以先点击 Set current address，这样网页就会填入你的外网 IP 地址（应注意检查，ipv4 基本不会是跟电脑一致，但 ipv6 需要一致）。&lt;br&gt;
&lt;img src=&#34;../_resources/8007661dd2ee4a33be77ca500ec41a76.png&#34; alt=&#34;8007661dd2ee4a33be77ca500ec41a76.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;点击创建后，若网址没有冲突，则创建成功；直接点击这个域名，上面有两个选项是可以自己修改的：status 和 records。&lt;/p&gt;
&lt;h2 id=&#34;创建dns记录&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#创建dns记录&#34;&gt;#&lt;/a&gt; 创建 DNS 记录&lt;/h2&gt;
&lt;p&gt;在 Status 里，点击 Edit Zone，将 ipv6 地址再次设为你的公网 ipv6 并保存，这样主域名就会直接解析到你的电脑上；&lt;br&gt;
在 Records 里，可以编辑或删除现有的 AAAA 记录，也可以新增其他 DNS 记录。&lt;/p&gt;
&lt;h3 id=&#34;创建子域名&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#创建子域名&#34;&gt;#&lt;/a&gt; 创建子域名&lt;/h3&gt;
&lt;p&gt;点击 Add Record，选择 AAAA 类型（A 是 ipv4，AAAA 是 ipv6，CNAME 是网站别名一般用不到），前面的 name 里填写子域名前缀（&lt;a href=&#34;http://xn--web-th2ek25abiifsffvwu74d.domainname.dynv6.net&#34;&gt;比如我要创建 web.domainname.dynv6.net&lt;/a&gt;，那就在这里写 web），后面的地址里填写目标 ipv6 即可。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;设置ddns自动更新&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#设置ddns自动更新&#34;&gt;#&lt;/a&gt; 设置 DDNS 自动更新&lt;/h2&gt;
&lt;p&gt;提示：建议将此脚本部署于 Windows 服务器上，而非自己的电脑&lt;/p&gt;
&lt;h3 id=&#34;下载wget和grep&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#下载wget和grep&#34;&gt;#&lt;/a&gt; 下载 wget 和 grep&lt;/h3&gt;
&lt;p&gt;网上很多教程，这里列两个：&lt;br&gt;
&lt;a href=&#34;https://www.cnblogs.com/shenxiaolin/p/16662793.html&#34;&gt;windows 下 grep 的安装与使用&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://www.jianshu.com/p/a8dfc762ba3b&#34;&gt; win10 安装 wget&lt;/a&gt;&lt;br&gt;
 记得检查好环境变量，确定 cmd 下运行这两个命令有输出。&lt;/p&gt;
&lt;h3 id=&#34;下载instsrvexe和srvanyexe&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#下载instsrvexe和srvanyexe&#34;&gt;#&lt;/a&gt; 下载 instsrv.exe 和 srvany.exe&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.cnblogs.com/zhaiqianfeng/p/4622561.html&#34;&gt;利用 instsrv 和 srvany 来手动安装服务&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;编写脚本&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#编写脚本&#34;&gt;#&lt;/a&gt; 编写脚本&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;在特定路径下创建文件夹，将上述 instsrv.exe、srvany.exe 以及后续脚本均放在此处；&lt;/li&gt;
&lt;li&gt;创建 install_server.bat 文件：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;hljs bat&#34;&gt;@&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; off
&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; curexe=%~dp0
&lt;span class=&#34;hljs-built_in&#34;&gt;cd&lt;/span&gt; /d &lt;span class=&#34;hljs-variable&#34;&gt;%curexe%&lt;/span&gt;
&amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;%curexe%&lt;/span&gt;instsrv.exe&amp;quot; ddns_dynv6 &amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;%curexe%&lt;/span&gt;srvany.exe&amp;quot;
@&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; ddns_dynv6 服务添加完成

@&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; 修改服务路径
&lt;span class=&#34;hljs-comment&#34;&gt; &lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;REM 添加注册表语法: reg add 注册表路径 /v 项名称 /t 值类型 /d 数据 /f 表示强行修改不提示&lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt; &lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;REM 名称 Application 值为你要作为服务运行的程序地址 /d对应的参数有斜杠不是为了转义引号，而是路径还有斜杠，默认将引号转义了，额外添加斜杠是为了保留引号&lt;/span&gt;
 
&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; regpath=HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\ddns_dynv6\Parameters\
&lt;span class=&#34;hljs-comment&#34;&gt; &lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;REM 名称 AppDirectory 值为你要作为服务运行的程序所在文件夹路径&lt;/span&gt;
reg add &lt;span class=&#34;hljs-variable&#34;&gt;%regpath%&lt;/span&gt; /v AppDirectory /t REG_SZ /d &amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;%curexe%&lt;/span&gt;\&amp;quot; /f
&lt;span class=&#34;hljs-comment&#34;&gt; &lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;REM 名称 AppParameters 值为你要作为服务运行的程序启动所需要的参数&lt;/span&gt;
reg add &lt;span class=&#34;hljs-variable&#34;&gt;%regpath%&lt;/span&gt; /v Application /t REG_SZ /d &amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;%curexe%&lt;/span&gt;dynv6.bat&amp;quot; /f
 
&lt;span class=&#34;hljs-built_in&#34;&gt;net&lt;/span&gt; &lt;span class=&#34;hljs-built_in&#34;&gt;start&lt;/span&gt; ddns_dynv6
 
&lt;span class=&#34;hljs-built_in&#34;&gt;pause&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;创建 remove_server.bat 文件：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;hljs bat&#34;&gt;@&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; off
&lt;span class=&#34;hljs-built_in&#34;&gt;net&lt;/span&gt; stop ddns_dynv6
instsrv ddns_dynv6 remove
&lt;span class=&#34;hljs-built_in&#34;&gt;pause&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;创建 dynv6.bat 文件：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;hljs bat&#34;&gt;@&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; off
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; tempnum=
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; ipaddr=
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; oldipaddr=&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;.&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;rem domain=你注册的域名（dynv6.net 提供多种域名后缀可自行修改）&lt;/span&gt;
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; domain=【在这里填写你记录的域名，填zone名称】
&lt;span class=&#34;hljs-comment&#34;&gt;rem token=你注册后的钥匙（dynv6.net 提供）&lt;/span&gt;
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; token=【在这里填写你的token，把这段文字和括号删掉然后粘贴】
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; IPV6_REGEX=&amp;quot;\(\([&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;-&lt;span class=&#34;hljs-number&#34;&gt;9&lt;/span&gt;A-Fa-f]\&amp;#123;&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;\&amp;#125;:\)\&amp;#123;&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,\&amp;#125;\)\(\([&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;-&lt;span class=&#34;hljs-number&#34;&gt;9&lt;/span&gt;A-Fa-f]\&amp;#123;&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;\&amp;#125;\)\&amp;#123;&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;\&amp;#125;\)\(\(:[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;-&lt;span class=&#34;hljs-number&#34;&gt;9&lt;/span&gt;A-Fa-f]\&amp;#123;&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;4&lt;/span&gt;\&amp;#125;\)\&amp;#123;&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,\&amp;#125;\)&amp;quot;
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; IPV4_REGEX=&amp;quot;[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;-&lt;span class=&#34;hljs-number&#34;&gt;9&lt;/span&gt;]\&amp;#123;&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;\&amp;#125;\.[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;-&lt;span class=&#34;hljs-number&#34;&gt;9&lt;/span&gt;]\&amp;#123;&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;\&amp;#125;\.[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;-&lt;span class=&#34;hljs-number&#34;&gt;9&lt;/span&gt;]\&amp;#123;&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;\&amp;#125;\.[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;-&lt;span class=&#34;hljs-number&#34;&gt;9&lt;/span&gt;]\&amp;#123;&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;hljs-number&#34;&gt;3&lt;/span&gt;\&amp;#125;&amp;quot;
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; URL=&amp;quot;https://dynv6.com/api/update?hostname=&lt;span class=&#34;hljs-variable&#34;&gt;%domain%&lt;/span&gt;&amp;amp;token=&lt;span class=&#34;hljs-variable&#34;&gt;%token%&lt;/span&gt;&amp;amp;ipv4=&lt;span class=&#34;hljs-variable&#34;&gt;%%i&lt;/span&gt;paddr&lt;span class=&#34;hljs-variable&#34;&gt;%%&amp;quot;&lt;/span&gt;
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; URLV6=&amp;quot;https://dynv6.com/api/update?hostname=&lt;span class=&#34;hljs-variable&#34;&gt;%domain%&lt;/span&gt;&amp;amp;token=&lt;span class=&#34;hljs-variable&#34;&gt;%token%&lt;/span&gt;&amp;amp;ipv6=&lt;span class=&#34;hljs-variable&#34;&gt;%%i&lt;/span&gt;paddr&lt;span class=&#34;hljs-variable&#34;&gt;%%&amp;amp;&lt;/span&gt;ipv6prefix=&lt;span class=&#34;hljs-variable&#34;&gt;%%i&lt;/span&gt;paddr&lt;span class=&#34;hljs-variable&#34;&gt;%%&amp;quot;&lt;/span&gt;
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; BIN=wget -t &lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt; --prefer-family=IPv6 --no-dns-cache --no-check-certificate
&lt;span class=&#34;hljs-comment&#34;&gt; &lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;rem ***ipv4***（dynv6也提供ipv4动态域名服务）&lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;rem for /F %%i in (&amp;#x27;nslookup %domain% ns1.dynv6.com ^|grep -m2 -o %IPV4_REGEX%&amp;#x27;) do ( set oldipaddr=%%i)&lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;rem ***ipv6***&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; /F &lt;span class=&#34;hljs-variable&#34;&gt;%%i&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; (&amp;#x27;nslookup -qt^=AAAA &lt;span class=&#34;hljs-variable&#34;&gt;%domain%&lt;/span&gt; ns1.dynv6.com ^|grep -m2 -o &lt;span class=&#34;hljs-variable&#34;&gt;%IPV6_REGEX%&lt;/span&gt;&amp;#x27;) &lt;span class=&#34;hljs-keyword&#34;&gt;do&lt;/span&gt; ( &lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; oldipaddr=&lt;span class=&#34;hljs-variable&#34;&gt;%%i&lt;/span&gt;)
 
@&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; Current &lt;span class=&#34;hljs-variable&#34;&gt;%domain%&lt;/span&gt; IP Add:&lt;span class=&#34;hljs-variable&#34;&gt;%oldipaddr%&lt;/span&gt;
 
:start_ip1
&lt;span class=&#34;hljs-comment&#34;&gt;rem @cls&lt;/span&gt;
@&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; ... 
@&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;.####从ip.sb获得地址####
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; ip6addr=null
&lt;span class=&#34;hljs-comment&#34;&gt; &lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;REM ***ipv6***&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; /F &lt;span class=&#34;hljs-variable&#34;&gt;%%i&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; (&amp;#x27;&lt;span class=&#34;hljs-variable&#34;&gt;%BIN%&lt;/span&gt; -O- http://ip.sb  ^|grep -m &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt; -o &lt;span class=&#34;hljs-variable&#34;&gt;%IPV6_REGEX%&lt;/span&gt;&amp;#x27;) &lt;span class=&#34;hljs-keyword&#34;&gt;do&lt;/span&gt; (&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; ipaddr=&lt;span class=&#34;hljs-variable&#34;&gt;%%i&lt;/span&gt;)
 
&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; &amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;%ipaddr%&lt;/span&gt;&amp;quot; == &amp;quot;null&amp;quot; (
&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; 没有IPV6地址或获得IPV6地址失败
timeout &lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;goto&lt;/span&gt; start_ip2
) &lt;span class=&#34;hljs-keyword&#34;&gt;else&lt;/span&gt; (
&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; 获得IP地址:&lt;span class=&#34;hljs-variable&#34;&gt;%ipaddr%&lt;/span&gt;，旧IP地址:&lt;span class=&#34;hljs-variable&#34;&gt;%oldipaddr%&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;NOT&lt;/span&gt; &amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;%oldipaddr%&lt;/span&gt;&amp;quot; == &amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;%ipaddr%&lt;/span&gt;&amp;quot; (
&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; ---更新IP---
&lt;span class=&#34;hljs-keyword&#34;&gt;goto&lt;/span&gt; update_web_ip
) &lt;span class=&#34;hljs-keyword&#34;&gt;else&lt;/span&gt; (
&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; IP没有改变
timeout &lt;span class=&#34;hljs-number&#34;&gt;300&lt;/span&gt;
&lt;span class=&#34;hljs-built_in&#34;&gt;cls&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;goto&lt;/span&gt; start_ip2
))
 
:start_ip2
@&lt;span class=&#34;hljs-built_in&#34;&gt;ipconfig&lt;/span&gt; /flushdns
@&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; ...
&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;.####从checkip.dyndns.com获得地址####
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; ipaddr=null
&lt;span class=&#34;hljs-comment&#34;&gt; &lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;REM ***ipv4***&lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;rem for /F %%i in (&amp;#x27;%BIN% -O- http://checkip.dyndns.com ^|grep -m 1 -o %IPV4_REGEX%&amp;#x27;) do (set ipaddr=%%i)&lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;REM ***ipv6***&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; /F &lt;span class=&#34;hljs-variable&#34;&gt;%%i&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; (&amp;#x27;&lt;span class=&#34;hljs-variable&#34;&gt;%BIN%&lt;/span&gt; -O- http://checkipv6.dyndns.com ^|grep -m &lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt; -o &lt;span class=&#34;hljs-variable&#34;&gt;%IPV6_REGEX%&lt;/span&gt;&amp;#x27;) &lt;span class=&#34;hljs-keyword&#34;&gt;do&lt;/span&gt; (&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; ipaddr=&lt;span class=&#34;hljs-variable&#34;&gt;%%i&lt;/span&gt;)
 
&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; &amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;%ipaddr%&lt;/span&gt;&amp;quot; == &amp;quot;null&amp;quot; (
&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; 没有IP地址或获得IP地址失败
timeout &lt;span class=&#34;hljs-number&#34;&gt;5&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;goto&lt;/span&gt; start_ip1
) &lt;span class=&#34;hljs-keyword&#34;&gt;else&lt;/span&gt; (
&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; 获得IP地址:&lt;span class=&#34;hljs-variable&#34;&gt;%ipaddr%&lt;/span&gt;，旧IP地址:&lt;span class=&#34;hljs-variable&#34;&gt;%oldipaddr%&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;NOT&lt;/span&gt; &amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;%oldipaddr%&lt;/span&gt;&amp;quot; == &amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;%ipaddr%&lt;/span&gt;&amp;quot; (
&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; ---更新IP---
&lt;span class=&#34;hljs-keyword&#34;&gt;goto&lt;/span&gt; update_web_ip
) &lt;span class=&#34;hljs-keyword&#34;&gt;else&lt;/span&gt; (
&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; IP没有改变
timeout &lt;span class=&#34;hljs-number&#34;&gt;300&lt;/span&gt;
&lt;span class=&#34;hljs-built_in&#34;&gt;cls&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;goto&lt;/span&gt; start_ip2
))
 
 
:update_web_ip
@&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; ==============================================
@&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; ipaddr=&amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;%ipaddr%&lt;/span&gt;&amp;quot;
@&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; ==============================================
@&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; var=null
&lt;span class=&#34;hljs-comment&#34;&gt; &lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;REM ***ipv4***&lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;rem for /F &amp;quot;tokens=*&amp;quot; %%i in (&amp;#x27;%BIN% -O- %URL%&amp;#x27;) do (set var=%%i)&lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;REM ***ipv6***&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; /F &amp;quot;tokens=*&amp;quot; &lt;span class=&#34;hljs-variable&#34;&gt;%%i&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; (&amp;#x27;&lt;span class=&#34;hljs-variable&#34;&gt;%BIN%&lt;/span&gt; -O- &lt;span class=&#34;hljs-variable&#34;&gt;%URLV6%&lt;/span&gt;&amp;#x27;) &lt;span class=&#34;hljs-keyword&#34;&gt;do&lt;/span&gt; (&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; var=&lt;span class=&#34;hljs-variable&#34;&gt;%%i&lt;/span&gt;)
 
&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; 更新信息=&lt;span class=&#34;hljs-variable&#34;&gt;%var%&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; &amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;%var%&lt;/span&gt;&amp;quot; == &amp;quot;addresses updated&amp;quot; &lt;span class=&#34;hljs-keyword&#34;&gt;goto&lt;/span&gt; end
&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; 更新失败
timeout &lt;span class=&#34;hljs-number&#34;&gt;120&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;goto&lt;/span&gt; start_ip2
 
:end
&lt;span class=&#34;hljs-built_in&#34;&gt;set&lt;/span&gt; oldipaddr=&lt;span class=&#34;hljs-variable&#34;&gt;%ipaddr%&lt;/span&gt;
&lt;span class=&#34;hljs-built_in&#34;&gt;echo&lt;/span&gt; 更新数据成功
timeout &lt;span class=&#34;hljs-number&#34;&gt;300&lt;/span&gt;
&lt;span class=&#34;hljs-keyword&#34;&gt;goto&lt;/span&gt; start_ip2
&lt;span class=&#34;hljs-comment&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;REM 以上每个TIMEOUT指令都表示等待一定时间（秒），可以按实际情况修改&lt;/span&gt;
&lt;span class=&#34;hljs-comment&#34;&gt;REM 我这里的300秒应该是够用的，太短了占用过多资源，太长了更新不及时&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;开机自启动&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#开机自启动&#34;&gt;#&lt;/a&gt; 开机自启动&lt;/h2&gt;
&lt;p&gt;创建一个计划任务即可，详情可百度教程&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://zjxdiu.github.io/blog/another_toss_of_music_recording/</guid>
            <title>又一次折腾手机游戏《灵魂潮汐》音频录制的记录</title>
            <link>https://zjxdiu.github.io/blog/another_toss_of_music_recording/</link>
            <category>游戏</category>
            <pubDate>Thu, 26 Jan 2023 23:51:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;事件初始&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#事件初始&#34;&gt;#&lt;/a&gt; 事件初始&lt;/h2&gt;
&lt;p&gt;在 2021 年，我入坑了灵魂潮汐；作为副游，她已经做到了尽善尽美。具体不再阐述，有兴趣可自行前往&lt;a href=&#34;https://lhcx.iqigame.net/&#34;&gt;官网&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;然后，在大约 2022 年中的时候，有几次游戏大更新；有一天我意外地发现，游戏登录前的加载界面不再是寂静无声，而是加入了一段非常好听的音乐！&lt;br&gt;
当时这段音乐就让我沉醉了，游戏都没肝就直接跑去 b 站找官方账号。很幸运，我找到了视频；不幸的是，官方视频里的歌曲不是同一个人唱的 😦&lt;br&gt;
但是它实在太好听了，所以之后我又琢磨着怎么把这段音乐录下来。于是就有了后续的折腾环节。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;尝试录制&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#尝试录制&#34;&gt;#&lt;/a&gt; 尝试录制&lt;/h2&gt;
&lt;p&gt;不详细说了，我试了以下的方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;手机内置录屏&lt;br&gt;
失败的原因很简单，手机内置的录屏音质不佳，更是只有单声道；显然我是不可能选择这个方式的。&lt;/li&gt;
&lt;li&gt;电脑模拟器&lt;br&gt;
同样失败；当时我用的是一众包装好的安卓模拟器，包括夜神、Mumu、联想手机助手等。失败的原因是，这些模拟器的音质同样不高，而且似乎只在游戏界面上才会发生，具体表现就是声音没有高频，12kHz 以上的频率全部被切除，听起来就像 96kbps 的电话音质一样。&lt;/li&gt;
&lt;li&gt;其它手机软件&lt;br&gt;
找了很久，找到一个能够读取原始 RAW 音频数据进而录屏的手机软件；但是这种方法有个很大的缺陷，就是它会同时把麦克风的声音混进去，而且无法分离；手机麦克风的噪音很大，非常影响听感，更何况环境噪声无处不在，不能实现完美的录制条件。禁用麦克风权限则所有声音都不能被录制，因此该方法 pass。&lt;br&gt;
…&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;初次解决方案&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#初次解决方案&#34;&gt;#&lt;/a&gt; 初次解决方案&lt;/h2&gt;
&lt;p&gt;最终，我用一个很奇怪的方法达成了目标：&lt;br&gt;
&lt;strong&gt;多屏协同。&lt;/strong&gt;&lt;br&gt;
对，就是华为手机支持的那个。当时我用的是荣耀 magic2 和 magicbook pro，多屏协同是很容易实现的。&lt;br&gt;
通过多屏协同，手机的声音直接在电脑上播放，而且延迟低音质高（相对）。&lt;br&gt;
随后在电脑上用 Au 录制，配上官方的视频画面，我就直接投稿到 b 站。&lt;/p&gt;
&lt;p&gt;但是没几天我就发现了被我忽略的问题，那就是多屏协同的音质同样不是最佳；它会切除 16kHz 以上的音频，导致听感近似 128kbps 的低质量音频（尽管在这首歌里似乎不明显，几乎没感觉音质有多差）。当然，那时我也没想到更好的办法，于是这个视频就一直放着，还逐渐收获了 1.1W 的播放量。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;二次折腾&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#二次折腾&#34;&gt;#&lt;/a&gt; 二次折腾&lt;/h2&gt;
&lt;p&gt;就在今天晚上，我在整理 b 站的各类信息和配置，无意间点进了创作中心，看到了视频的最新评论。有人问我是怎么获得高音质音频的，于是我就把这个过程说了一遍。&lt;br&gt;
但是这个时候，我决定要彻底解决问题，获取原始的最高音质音频；一直用着低质量音乐冒充高品质原声始终不太好，于是我又着手开始折腾。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;重新尝试虚拟机&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;微软的 WSA：失败，win10 没有成功启动&lt;/li&gt;
&lt;li&gt;VirtualBox 虚拟机：失败，音频要么呈现断断续续的极为难听的状态，要么就只有之前遇到过的低质量。&lt;br&gt;
此时我也已经明白，实际上模拟器音质不高基本上就是由于音频设备的原因，使用 Windows Audio Session+ICH AC97 能得到唯一流畅的声音输出，但质量低。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;聪明反被聪明误&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#聪明反被聪明误&#34;&gt;#&lt;/a&gt; 聪明反被聪明误&lt;/h2&gt;
&lt;p&gt;没错，自作聪明的结果就是我这样，折腾了两回一点用都没有。&lt;br&gt;
就在我放弃折腾准备关机睡觉的时候，我就忽然想到，为什么我不直接把手机的耳机孔输出连接到电脑的音频口呢？这样电脑直接就能接收到手机的音频输出，直接录制最原始的声音。&lt;/p&gt;
&lt;p&gt;这个方法听起来很蠢，但它就是最快捷最有效的方法。换了几条线，我发现只要把 Realtek 的声音设备设置为麦克风，关闭所有麦克风增强、效果和加强，配合一根 AUX（3.5mm 公对公）转接线就能直接在电脑上录音了。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;b站的阴间操作&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#b站的阴间操作&#34;&gt;#&lt;/a&gt; b 站的阴间操作&lt;/h2&gt;
&lt;p&gt;终于得到了完美的录音，当然是要换源了，让后面的观众能享受到最佳的音质！&lt;br&gt;
一顿操作，把之前的视频替换音轨，重新上传。&lt;br&gt;
…&lt;br&gt;
 &lt;code&gt;10分钟后...&lt;/code&gt; &lt;br&gt;
 嗯，新上传的视频，音频直接被压缩到了 74kbps，听起来比电话还糊。&lt;br&gt;
b 站，😃&lt;br&gt;
时间已经比较晚了，我也不想继续折腾，直接投了个音频投稿然后关联过来，同时发新的文件下载链接置顶，就这样吧。反正问题算是解决了，就是这个结尾整的我有点脑溢血（&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://zjxdiu.github.io/blog/ipv6_toss/</guid>
            <title>记一次折腾电信ipv6中的各种问题</title>
            <link>https://zjxdiu.github.io/blog/ipv6_toss/</link>
            <category>网络</category>
            <category>游戏</category>
            <pubDate>Fri, 20 Jan 2023 21:37:00 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;阅前提示：本文约 5000 字，预计阅读时长 &amp;gt; 5 分钟。&lt;/p&gt;
&lt;h2 id=&#34;起因&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#起因&#34;&gt;#&lt;/a&gt; 起因&lt;/h2&gt;
&lt;p&gt;由于想跟好友联机 minecraft，而使用 natfrp 做内网穿透时发现有很多问题，包括延迟高且不稳定、速率低、流量限制、高峰时期断连等。刚好想起来家里的网络已经被我启用了 ipv6，因此试图使用 ipv6 来直接对公网开放 minecraft 服务器。&lt;/p&gt;
&lt;h2 id=&#34;开始第一次尝试&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#开始第一次尝试&#34;&gt;#&lt;/a&gt; 开始第一次尝试&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;当前状态：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;光猫使用路由模式，自主拨号并获取两种 ip 地址（除非特殊说明，否则以下简称 ip）&lt;/li&gt;
&lt;li&gt;无线路由器（下简称路由器）使用路由模式&lt;/li&gt;
&lt;li&gt;所有设备连接在路由器上，并能获取到 ip&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;../_resources/a941e7dad288e2bd65c297c76503f111.png&#34; alt=&#34;a941e7dad288e2bd65c297c76503f111.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;当前问题：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;首先尝试外网直接连接服务器 ipv6，失败&lt;/li&gt;
&lt;li&gt;外网无法 ping 通任何内网主机&lt;/li&gt;
&lt;li&gt;光猫获取到的 ipv6 地址仍然无法通过外网 ping 通&lt;/li&gt;
&lt;li&gt;在光猫中设置端口映射或 DMZ 主机，无效&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;实际上，上述内容已经花了我一下午来检查和排查；网上搜索相关内容，有人说&lt;s&gt;获取到的 ipv6 是 240e 开头的，说明是经过了 NAT（类似 ipv4，所以肯定访问不到）&lt;/s&gt;；但是这种说法显然有问题，首先 ipv6 只有在特殊环境下才需要 NAT，其次 2 开头的地址至少不是内网地址。&lt;br&gt;
另有说法称，运营商（我用的是电信）会用防火墙屏蔽入站流量，防止你开服务器。根据我的实验，这个说法是正确的。&lt;/p&gt;
&lt;p&gt;随后开始折腾，既然防火墙阻碍了我，那我关掉就好。&lt;br&gt;
但是现实很惨淡，运营商早就猜到你会搞这一手，所以直接不允许你关闭防火墙。&lt;br&gt;
这里包括了最后的那个防止 ICMP 包攻击，还有其他的防火墙直接不显示。&lt;br&gt;
&lt;img src=&#34;../_resources/7d186301818af5165a407c1751fb848c.png&#34; alt=&#34;7d186301818af5165a407c1751fb848c.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;换个地方拨号&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#换个地方拨号&#34;&gt;#&lt;/a&gt; 换个地方拨号？&lt;/h3&gt;
&lt;p&gt;网上提供了一种解决思路，即光猫改桥接、使用路由器进行拨号；这样做有一些好处，例如路由器的性能更强、可以提供更快的网速，以及很高的可玩性、灵活性等等，这里直接把路由器换成软路由就能实现非常多的玩法，因此我就着手开始改桥接。&lt;/p&gt;
&lt;p&gt;改的过程实际上非常简单，找到宽带的账号密码，进入光猫的超级用户，然后直接改桥接即可。&lt;br&gt;
&lt;img src=&#34;../_resources/bc81d148f88500f57dbadabcf8080770.png&#34; alt=&#34;bc81d148f88500f57dbadabcf8080770.png&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;随后，将路由器设置为 PPPoE 拨号连接；这里就不放图了，各家路由器的配置流程都是一回事。&lt;br&gt;
关闭路由器的防火墙，现在，所有的设备又能重新获取到 ip，且具有公网 ipv6 地址。当然由于 Windows 防火墙的配置，需要关闭 Windows 的防火墙才能从外网 ping 通。&lt;br&gt;
大获全胜！网速也提升到了 570M（家里办理的 500M 宽带，如果直接从光猫拨号 + 路由，则速度最高 470M）&lt;br&gt;
&lt;img src=&#34;../_resources/cbdb76297f0af4d4d3837f421060eb67.png&#34; alt=&#34;cbdb76297f0af4d4d3837f421060eb67.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;同时，Minecraft 也能正常从外网通过 ipv6 连接，看起来一切完美。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;核心问题网页无法访问&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#核心问题网页无法访问&#34;&gt;#&lt;/a&gt; 核心问题：网页无法访问&lt;/h2&gt;
&lt;p&gt;一切完美？当然是不可能的。一定会出问题，而且是大问题。&lt;br&gt;
配置好 ipv6 之后，一开始所有设备工作正常，网速和解析速度起飞。&lt;br&gt;
然后，用了半个小时左右，问题开始逐步显现。&lt;br&gt;
最开始，我在网上搜索一个 Windows 方面的配置问题，并且点进去了一个博客园的链接。然后，网页并没有按照我预想中的那样飞快加载，而是不断转圈。&lt;br&gt;
最后：&lt;br&gt;
&lt;img src=&#34;../_resources/84c01f9cc1ebf56595e7d025fc4a0617.png&#34; alt=&#34;84c01f9cc1ebf56595e7d025fc4a0617.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;一开始我以为这是必应的中转链接出现问题了（百度日常），因为点击必应的搜索结果并不是直接访问目标网址，而是先通过一个必应的链接重定向到目标。这个重定向有时候会失败，是正常的。但是，我直接访问目标网址时，居然也不能进去，这就非常奇怪了。&lt;br&gt;
这时候我还是乐观的心态，认为是博客园的服务器出了问题，也没有去其它设备上尝试。但我仍然重视了这个问题，并立即去搜索解决方法。因为是开了路由器拨号 + ipv6 之后才出现的问题，所以查找方向也很明确了。结果，就在我查找的过程中，发现了更多的问题。&lt;br&gt;
百度经验、百度知道、百度贴吧、知乎… 这些网站一个接一个地挂掉；有时候网站一开始能正常访问，再开的时候就加载不出 JS 和 CSS（变成了没有渲染的样式，仅限知乎），然后就是一样的不响应。症状跟博客园完全一致，控制台里没有任何有效信息，只有一个响应超时。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;先恢复正常访问&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#先恢复正常访问&#34;&gt;#&lt;/a&gt; 先恢复正常访问&lt;/h3&gt;
&lt;p&gt;一通摸索之后，我找到了暂时恢复的方法：在网卡选项里禁用 ipv6（Internet 协议版本 6）。&lt;br&gt;
禁用后，所有网页恢复正常，但这显然不可取，因为我的目的就是使用 ipv6，而禁用它也就丧失了所有 ipv6 能力。&lt;br&gt;
需要注意的是，现在出问题的网站都不是纯 ipv6 站点，有些是纯 ipv4 站点，但双栈域名居多。这时候访问纯 ipv6 网站是全部成功的，ipv6 测试也是全绿通过，并且无论何种类型的网站都有大量能成功访问的。&lt;/p&gt;
&lt;h3 id=&#34;退一步试试&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#退一步试试&#34;&gt;#&lt;/a&gt; 退一步试试&lt;/h3&gt;
&lt;p&gt;退一步，指的就是我找到一种方法，让浏览器只使用或优先使用 ipv4 进行访问。&lt;br&gt;
因为出问题的只有浏览器，我电脑里其它软件全都正常运行。&lt;br&gt;
&lt;em&gt;后续补充：今天发现 Windows 版的微信也不能正常使用，二维码加载不出来，禁用 ipv6 后恢复。&lt;/em&gt;。&lt;br&gt;
但是，网上相关的教程极少甚至没有，偶有几个是针对 Firefox 或 chrome 的，而我使用的是 edge；就算我能参考 chrome，教程也是针对 Linux 而非 Windows。&lt;/p&gt;
&lt;h3 id=&#34;再退一步&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#再退一步&#34;&gt;#&lt;/a&gt; 再退一步&lt;/h3&gt;
&lt;p&gt;好的，如果浏览器不行，那我就找个方法让整个操作系统都优先使用 ipv4。&lt;br&gt;
微软提供了一个文档，通过&lt;a href=&#34;https://learn.microsoft.com/en-US/troubleshoot/windows-server/networking/configure-ipv6-in-windows&#34;&gt;修改注册表的方法&lt;/a&gt;来实现全局优先 ipv4、禁用 ipv6、优先 ipv6 等等。&lt;br&gt;
一看到这里，我立即兴奋地尝试了。改了注册表，重启，访问：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ERR_TIMED_OUT&lt;/code&gt;  .png&lt;/p&gt;
&lt;p&gt;好，居然没用。微软，不愧是你。&lt;br&gt;
重启很多次无效，当时已经半夜 2:30，我没有了折腾的心情，只想赶紧睡觉。&lt;/p&gt;
&lt;h2 id=&#34;第一次折腾失败&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#第一次折腾失败&#34;&gt;#&lt;/a&gt; 第一次折腾失败&lt;/h2&gt;
&lt;p&gt;网上又找了很多相同症状的用户，解决方案要么是改注册表，要么是说路由器兼容性有问题。&lt;br&gt;
好吧，反正跟我联机的同学也不是很在意，natfrp 似乎还能继续用用。&lt;br&gt;
于是，彻底宣告失败，我重新改回了光猫拨号、路由桥接，随后所有网络恢复正常（除了外网还是不能访问这里的所有 ipv6；当然，也包括 ipv4，因为有 NAT）。&lt;/p&gt;
&lt;p&gt;这就结束了吗？怎么可能，不搞到好用我是不会罢休的。&lt;br&gt;
于是，第二天，我又开始了新一轮的折腾。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;第二次尝试&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#第二次尝试&#34;&gt;#&lt;/a&gt; 第二次尝试&lt;/h2&gt;
&lt;p&gt;重新尝试，同样的光猫改桥接，同样的路由器拨号。同样的正常 ipv6 公网访问，但是这一次似乎是运气比较好，网页访问全部正常使用，并且坚持了至少 4 个小时。&lt;br&gt;
中途离家 4 小时，回来之后，惊喜地发现，这些网页又打不开了 😃&lt;br&gt;
这时候我就已经明白，无论怎么修改电脑或者路由器配置都无效，于是没有再做尝试，转而对现在的情况进行分析，并希望通过其它方法解决需求。&lt;/p&gt;
&lt;h3 id=&#34;转机&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#转机&#34;&gt;#&lt;/a&gt; 转机&lt;/h3&gt;
&lt;p&gt;在我整理思路的时候，我意识到，实际上我只需要服务器一台电脑能够获取正常入站的 ipv6 地址（正常的 ipv6）即可，其余设备甚至根本不需要启用 ipv6。这时候，我首先想到的就是：&lt;/p&gt;
&lt;h4 id=&#34;一号多拨&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#一号多拨&#34;&gt;#&lt;/a&gt; 一号多拨&lt;/h4&gt;
&lt;p&gt;一号多拨，指的是我通过同一个光猫，使用同一个宽带账号，分别在两台设备上进行拨号。&lt;br&gt;
我的最初想法是，服务器电脑直连光猫并自己拨号获取正常的 ipv6 地址，同时路由器也自己拨号，但只启用 ipv4。&lt;br&gt;
网上搜索发现，这种方法当然是可行的，前提是运营商支持多拨。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;折腾中&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;没有任何侥幸，拨号失败。电脑上尝试第二次拨号时直接返回错误 629。&lt;/p&gt;
&lt;p&gt;再换一种角度，重新分析我的需求。服务器能使用正常的 ipv6，同时其余设备仅需要 ipv4（最多需要 ipv6 内网而非公网访问）。因此，我做了如下操作，来使得二者兼顾。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;最终如何解决&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#最终如何解决&#34;&gt;#&lt;/a&gt; 最终如何解决&lt;/h2&gt;
&lt;p&gt;如果你的需求和遇到的问题跟我完全一样，那么也许可以参考我的方法来临时解决。&lt;br&gt;
&lt;strong&gt;提示：最终的解决方案也并不完美，只不过暂时保证了两边可以都解决主要矛盾&lt;/strong&gt;&lt;br&gt;
以下是我的解决方案：&lt;/p&gt;
&lt;h3 id=&#34;1-将路由器的内网ipv6地址分发从无状态改为有状态&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#1-将路由器的内网ipv6地址分发从无状态改为有状态&#34;&gt;#&lt;/a&gt; 1. 将路由器的内网 ipv6 地址分发从无状态改为有状态。&lt;/h3&gt;
&lt;p&gt;无状态获取指的是机器自己配置地址，然后通过 NDP 等方式确定地址有效性即可；有状态获取类似 DHCP，不过分配的地址是 ipv6。&lt;br&gt;
这一步解决了手机联网的问题；由于我的网络环境中手机为主要设备，而安卓系统并不支持通过 DHCPv6 进行有状态获取 ipv6 地址；于是所有的手机都只能通过 ipv4 联网，解决了所有上网问题。&lt;/p&gt;
&lt;h3 id=&#34;2-为电脑配置虚假或者无效的ipv6地址&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#2-为电脑配置虚假或者无效的ipv6地址&#34;&gt;#&lt;/a&gt; 2.  为电脑配置虚假或者无效的 ipv6 地址&lt;/h3&gt;
&lt;p&gt;这是我在测试的时候忽然想到的主意，既然 ipv4 地址在手动配置错误的情况下无法联网，那么 ipv6 应该也是一样的。&lt;br&gt;
ipv6 中同样有很多保留地址，例如 &lt;code&gt;fe80&lt;/code&gt;  开头的地址表示本地链路地址，无法进行跨子网路由，因此给我自己的电脑配置一个 &lt;code&gt;fe80::1&lt;/code&gt;  的地址即可。&lt;br&gt;
配置后，网卡状态中 IPv6 连接变为&lt;strong&gt;无 Internet 访问权限&lt;/strong&gt;，使用 &lt;code&gt;ipconfig /all&lt;/code&gt;  查看 IP 地址，发现手动配置的 ipv6 地址变成了&lt;strong&gt;本地链接 IPv6 地址&lt;/strong&gt;。&lt;br&gt;
&lt;img src=&#34;../_resources/054913f5d395b1e809f0d7830e64c948.png&#34; alt=&#34;054913f5d395b1e809f0d7830e64c948.png&#34;&gt;&lt;br&gt;
 此外，这里网卡仍然获取到了一个 IPv6 地址，但后面提示（&lt;strong&gt;复制&lt;/strong&gt;），检查其地址发现这个地址是我的服务器电脑的公网 ipv6 地址（因此在此处打码作保护）；这可能是一些其它方面的机制，但并不影响服务器和我的电脑的正常工作。同时，由于内网 ipv6 地址被正常配置，我仍然可以通过内网 ipv6 来访问服务器（包括文件服务器、网页服务器、minecraft 和远程桌面）。&lt;br&gt;
这一步解决了环境中主要的电脑设备：我自己的使用需求。当然没有完全解决，纯 ipv4 模式下访问部分双栈网站时速度还是比较慢，但能够正常使用已经是极其难得了。&lt;/p&gt;
&lt;h3 id=&#34;3-为windows-11配置&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#3-为windows-11配置&#34;&gt;#&lt;/a&gt; 3. 为 Windows 11 配置&lt;/h3&gt;
&lt;p&gt;环境中存在另一台常用的电脑，而它搭载的是 Windows 11 家庭版。&lt;br&gt;
在 win11 下可以执行相同的步骤进行配置，只不过需要多出一个步骤：&lt;strong&gt;你需要在系统设置中手动设置 ipv6 DNS，而不能使用自动获取。&lt;/strong&gt;&lt;br&gt;
这一步是因为，即便手动配置了 ipv6 地址，win11 似乎也不会立即使用，而是先试图通过 DHCP 等方法获取 ipv6 地址以及 DNS 服务器等；而在自动获取 DNS 的过程中，路由器很可能就为它分配了一个 ipv6 地址，导致我们自己设置的地址完全变成内网地址，而无法实现目的。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;结语&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#结语&#34;&gt;#&lt;/a&gt; 结语&lt;/h2&gt;
&lt;p&gt;至此，全部流程结束，解决方案全部执行。服务器正常接受公网入站流量，其余设备配置后均能实现正常上网。&lt;/p&gt;
&lt;p&gt;但是，我并不对现在的解决方案满意。原因很简单，我开 ipv6 不仅是为了服务器使用，更是为了提高日常上网体验，同时接轨最新技术（虽然 ipv6 都是 12 年前的玩意了）；现在虽然解决了问题，但并未达成全部目的，因为除了服务器主机以外没有设备能够正常使用 ipv6 的。这个方法顶多也就临时用用，实际上我也就这一个寒假的需求，假期结束返校前肯定会恢复光猫拨号的，因为服务器主机之后只作为内网打印服务器，不再有公网访问需求。此外，每次新加一台电脑，都需要这样设置一遍无效的 ipv6 地址，以便正常访问网页。&lt;br&gt;
所以，整体看下来，其实只是在两边的矛盾中取了一个居中妥协的值，为主要矛盾作了让步。我也不是每天都会折腾网络，更多时候还是希望它日常使用能稳定；但我又不希望放弃服务器的公网访问，因此这两者就是核心问题，而最终的方案也就向这两个问题进行妥协。&lt;br&gt;
Anyway，反正问题算是解决了，但愿 ipv6 的部署进度还能快一点吧（&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;明天就是除夕了，浅放一张 AI 画的胡桃吧，祝大家新年快乐！&lt;br&gt;
&lt;em&gt;胡桃没画成，人要么太大要么太小，随便搞了个背景算了（）&lt;/em&gt;&lt;br&gt;
&lt;img src=&#34;../_resources/7c8d8e5459a9f8cd83c33281ca1aa262.png&#34; alt=&#34;7c8d8e5459a9f8cd83c33281ca1aa262.png&#34;&gt;&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
